<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://yunmo.org.cn</id>
    <title>å…é»˜</title>
    <updated>2025-03-26T13:02:56.036Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://yunmo.org.cn"/>
    <link rel="self" href="https://yunmo.org.cn/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°ï¼Œè§è´¤æ€é½ç„‰ï¼Œè§ä¸è´¤è€Œå†…è‡ªçœä¹Ÿ</subtitle>
    <logo>https://yunmo.org.cn/images/avatar.png</logo>
    <icon>https://yunmo.org.cn/favicon.ico</icon>
    <rights>All rights reserved 2025, å…é»˜</rights>
    <entry>
        <title type="html"><![CDATA[Mavené¡¹ç›®æ‰“åŒ…å¹¶è‡ªåŠ¨ç”Ÿæˆå¯åŠ¨è„šæœ¬]]></title>
        <id>https://yunmo.org.cn/post/ccV9g317y/</id>
        <link href="https://yunmo.org.cn/post/ccV9g317y/">
        </link>
        <updated>2020-09-12T02:41:37.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ¬æ–‡é‡‡ç”¨appassembler-maven-pluginæ’ä»¶æ¥é…ç½®æ‰“åŒ…å¹¶ç”Ÿæˆè„šæœ¬ï¼ŒApplication Assembleræ’ä»¶æ˜¯ä¸€ä¸ªMavenæ’ä»¶ï¼Œç”¨äºç”Ÿæˆç”¨äºå¯åŠ¨Javaåº”ç”¨ç¨‹åºçš„è„šæœ¬ã€‚é¡¹ç›®æœ¬èº«çš„æ‰€æœ‰ä¾èµ–å…³ç³»å’Œå·¥ä»¶éƒ½æ”¾ç½®åœ¨å·²ç”Ÿæˆçš„Mavenå­˜å‚¨åº“ä¸­çš„å·²å®šä¹‰æ±‡ç¼–ç›®å½•ä¸­ã€‚æ‰€æœ‰å·¥ä»¶ï¼ˆä¾èµ–å…³ç³»+é¡¹ç›®ä¸­çš„å·¥ä»¶ï¼‰éƒ½å°†æ·»åŠ åˆ°ç”Ÿæˆçš„binè„šæœ¬ä¸­çš„ç±»è·¯å¾„ä¸­ã€‚<a href="https://www.mojohaus.org/appassembler/appassembler-maven-plugin/">å®˜ç½‘ä»‹ç»</a></p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ¬æ–‡é‡‡ç”¨appassembler-maven-pluginæ’ä»¶æ¥é…ç½®æ‰“åŒ…å¹¶ç”Ÿæˆè„šæœ¬ï¼ŒApplication Assembleræ’ä»¶æ˜¯ä¸€ä¸ªMavenæ’ä»¶ï¼Œç”¨äºç”Ÿæˆç”¨äºå¯åŠ¨Javaåº”ç”¨ç¨‹åºçš„è„šæœ¬ã€‚é¡¹ç›®æœ¬èº«çš„æ‰€æœ‰ä¾èµ–å…³ç³»å’Œå·¥ä»¶éƒ½æ”¾ç½®åœ¨å·²ç”Ÿæˆçš„Mavenå­˜å‚¨åº“ä¸­çš„å·²å®šä¹‰æ±‡ç¼–ç›®å½•ä¸­ã€‚æ‰€æœ‰å·¥ä»¶ï¼ˆä¾èµ–å…³ç³»+é¡¹ç›®ä¸­çš„å·¥ä»¶ï¼‰éƒ½å°†æ·»åŠ åˆ°ç”Ÿæˆçš„binè„šæœ¬ä¸­çš„ç±»è·¯å¾„ä¸­ã€‚<a href="https://www.mojohaus.org/appassembler/appassembler-maven-plugin/">å®˜ç½‘ä»‹ç»</a></p>
<!-- more -->
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹æ‰“åŒ…åæœ€ç»ˆç›®å½•ç»“æ„ï¼š<br>
<img src="https://yunmo.org.cn/post-images/1599879737920.png" alt="" loading="lazy"></p>
<h2 id="1ç›®å½•ç»“æ„ä»‹ç»">1.ç›®å½•ç»“æ„ä»‹ç»</h2>
<blockquote>
<p>app æ˜¯æˆ‘ä»¬æŒ‡å®šçš„æ‰“åŒ…æ–‡ä»¶ç”Ÿæˆçš„æ ¹ç›®å½•ï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„pomä¸­ä¿®æ”¹é…ç½®<br>
app/bin å¯åŠ¨è„šæœ¬å­˜æ”¾ç›®å½•<br>
app/conf é¡¹ç›®é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•<br>
app/lib é¡¹ç›®æ‰€æœ‰ä¾èµ–åŒ…å­˜æ”¾ç›®å½•<br>
app/logs æ—¥å¿—å­˜æ”¾ç›®å½•<br>
app/tmp ä¸´æ—¶æ–‡ä»¶å­˜æ”¾ç›®å½•</p>
</blockquote>
<!-- more -->
<blockquote>
<p>classes æ˜¯æˆ‘ä»¬é¡¹ç›®æ­£å¸¸ç¼–è¯‘è¾“å‡ºåœ°å€<br>
classes/cn javaæ–‡ä»¶ç¼–è¯‘ç›®å½•<br>
classes/conf æ˜¯æˆ‘ä»¬æŒ‡å®šçš„é…ç½®æ–‡ä»¶ç¼–è¯‘å­˜æ”¾ç›®å½•ï¼Œç”±äºæˆ‘è¿™é‡Œ*.ymlé…ç½®æ–‡ä»¶ä¸­å­˜åœ¨å˜é‡å¼•ç”¨æ‰€ä»¥æœ€ç»ˆæ‰“åŒ…é…ç½®æ–‡ä»¶ä¿¡æ¯ä»è¿™ä¸ªç›®å½•æ¥copy</p>
</blockquote>
<!-- more -->
<h2 id="2ä¿®æ”¹pomæ–‡ä»¶é…ç½®">2.ä¿®æ”¹pomæ–‡ä»¶é…ç½®</h2>
<p>å®Œæ•´é…ç½®å¦‚ä¸‹</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;artifactId&gt;yunmo-server&lt;/artifactId&gt;
        &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
    &lt;/parent&gt;
    &lt;artifactId&gt;yunmo-biz-demo&lt;/artifactId&gt;
    &lt;version&gt;1.0&lt;/version&gt;
    &lt;name&gt;yunmo-biz-demo&lt;/name&gt;
    &lt;description&gt;ä¸šåŠ¡æµ‹è¯•demo&lt;/description&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;dependencies&gt;
        &lt;!--åŸºç¡€å®ä½“ç±»æ˜ å°„æ¨¡å—--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
            &lt;artifactId&gt;yunmo-base-entity&lt;/artifactId&gt;
            &lt;version&gt;${yunmo.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--åŸºç¡€daoæ¥å£æ¨¡å—--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
            &lt;artifactId&gt;yunmo-base-dao&lt;/artifactId&gt;
            &lt;version&gt;${yunmo.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--åŸºç¡€mapperæ–‡ä»¶æ¨¡å—--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
            &lt;artifactId&gt;yunmo-base-mapper&lt;/artifactId&gt;
            &lt;version&gt;${yunmo.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--åŸºç¡€æœåŠ¡ç±»æ¨¡å—--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
            &lt;artifactId&gt;yunmo-base-service&lt;/artifactId&gt;
            &lt;version&gt;${yunmo.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
            &lt;artifactId&gt;yunmo-util&lt;/artifactId&gt;
            &lt;version&gt;${yunmo.version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;cn.org.yunmo&lt;/groupId&gt;
            &lt;artifactId&gt;yunmo-exception&lt;/artifactId&gt;
            &lt;version&gt;${yunmo.version}&lt;/version&gt;
            &lt;scope&gt;compile&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;properties&gt;
        &lt;!-- æ–‡ä»¶æ‹·è´æ—¶çš„ç¼–ç  --&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;!-- ç¼–è¯‘æ—¶çš„ç¼–ç  --&gt;
        &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;
    &lt;/properties&gt;
    &lt;build&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;src/main/resources&lt;/directory&gt;
                &lt;filtering&gt;true&lt;/filtering&gt;
                &lt;!--æŒ‡å®šé…ç½®æ–‡ä»¶ç¼–è¯‘çš„ç›®æ ‡åœ°å€ï¼Œå½“å‰é¡¹ç›®é…ç½®ç¼–è¯‘åœ°å€ä¸º:target/classes/conf--&gt;
                &lt;targetPath&gt;conf&lt;/targetPath&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;!-- Apache Mavenç¼–è¯‘å™¨æ’ä»¶ --&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;source&gt;11&lt;/source&gt;
                    &lt;target&gt;11&lt;/target&gt;
                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;
                    &lt;!-- å¿…é¡»æ·»åŠ compilerArgumenté…ç½®ï¼Œæ‰èƒ½ä½¿ç”¨JFinalçš„Controlleræ–¹æ³•å¸¦å‚æ•°çš„åŠŸèƒ½ --&gt;
                    &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.10&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;!-- æ–‡ä»¶ç”Ÿæˆçš„æ ¹ç›®å½• --&gt;
                    &lt;assembleDirectory&gt;${project.build.directory}/app&lt;/assembleDirectory&gt;
                    &lt;!-- æ‰“åŒ…çš„jarï¼Œä»¥åŠmavenä¾èµ–çš„jaræ”¾åˆ°è¿™ä¸ªç›®å½•é‡Œé¢ --&gt;
                    &lt;repositoryName&gt;lib&lt;/repositoryName&gt;
                    &lt;!-- å¯æ‰§è¡Œè„šæœ¬çš„ç›®å½• --&gt;
                    &lt;binFolder&gt;bin&lt;/binFolder&gt;
                    &lt;!-- é…ç½®æ–‡ä»¶çš„ç›®æ ‡ç›®å½• --&gt;
                    &lt;configurationDirectory&gt;conf&lt;/configurationDirectory&gt;
                    &lt;!-- æ‹·è´é…ç½®æ–‡ä»¶åˆ°ä¸Šé¢çš„ç›®å½•ä¸­ --&gt;
                    &lt;copyConfigurationDirectory&gt;true&lt;/copyConfigurationDirectory&gt;
                    &lt;!-- ä»å“ªé‡Œæ‹·è´é…ç½®æ–‡ä»¶ (é»˜è®¤src/main/config) --&gt;
                    &lt;!--è¿™é‡Œç”±äºé…ç½®æ–‡ä»¶*.ymlä¸­å­˜åœ¨å˜é‡å¼•ç”¨ï¼Œcopyæ—¶ä½¿ç”¨ç¼–è¯‘åçš„é…ç½®æ–‡ä»¶--&gt;
                    &lt;configurationSourceDirectory&gt;target\classes\conf&lt;/configurationSourceDirectory&gt;
                    &lt;!--åœ¨ç›®æ ‡æ–‡ä»¶çš„å¼€å¤´åŒ…å«ç›®æ ‡é…ç½®ç›®å½•binè„šæœ¬ä¸­çš„ç±»è·¯å¾„å£°æ˜--&gt;
                    &lt;includeConfigurationDirectoryInClasspath&gt;true&lt;/includeConfigurationDirectoryInClasspath&gt;
                    &lt;!-- libç›®å½•ä¸­jarçš„å­˜æ”¾è§„åˆ™ï¼Œé»˜è®¤æ˜¯${groupId}/${artifactId}çš„ç›®å½•æ ¼å¼ï¼Œflatè¡¨ç¤ºç›´æ¥æŠŠjaræ”¾åˆ°libç›®å½• --&gt;
                    &lt;repositoryLayout&gt;flat&lt;/repositoryLayout&gt;
                    &lt;!--è§£å†³windowsè„šæœ¬classpathå¼•ç”¨jaråŒ…è·¯å¾„è¿‡é•¿å¯¼è‡´æ— æ³•å¯åŠ¨--&gt;
                    &lt;useWildcardClassPath&gt;true&lt;/useWildcardClassPath&gt;
                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;
                    &lt;logsDirectory&gt;logs&lt;/logsDirectory&gt;
                    &lt;tempDirectory&gt;tmp&lt;/tempDirectory&gt;
                    &lt;!-- ç”Ÿæˆlinux, windowsä¸¤ç§å¹³å°çš„æ‰§è¡Œè„šæœ¬ --&gt;
                    &lt;platforms&gt;
                        &lt;platform&gt;windows&lt;/platform&gt;
                        &lt;platform&gt;unix&lt;/platform&gt;
                    &lt;/platforms&gt;
                    &lt;programs&gt;
                        &lt;!-- ç¨‹åºæ‰“åŒ…ï¼šmvn package appassembler:assemble å¯ä»¥é…ç½®å¤šä¸ªprogram--&gt;
                        &lt;program&gt;
                            &lt;!-- ç”Ÿæˆçš„è„šæœ¬æ–‡ä»¶çš„åç§° --&gt;
                            &lt;id&gt;${project.name}&lt;/id&gt;
                            &lt;mainClass&gt;cn.org.yunmo.bizdemo.YunmoBizDemoApplication&lt;/mainClass&gt;
                        &lt;/program&gt;
                    &lt;/programs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;

</code></pre>
<!-- more -->
<h3 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹ï¼š</h3>
<!-- more -->
<h4 id="1é…ç½®æ–‡ä»¶ç¼–è¯‘è¾“å‡ºè·¯å¾„">1.é…ç½®æ–‡ä»¶ç¼–è¯‘è¾“å‡ºè·¯å¾„</h4>
<p>å¦‚æœä½ æŠŠé…ç½®æ–‡ä»¶ç¼–è¯‘ç›®å½•çš„çš„targetPathä¿®æ”¹äº†è®°å¾—ä¸€å®šè¦æŠŠconfigurationSourceDirectoryçš„è·¯å¾„ä¹Ÿåšå¯¹åº”ä¿®æ”¹ä¿è¯copyçš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ä½ é¡¹ç›®é…ç½®æ–‡ä»¶ç¼–è¯‘åè¾“å‡ºåœ°å€</p>
<pre><code>Â·Â·Â·Â·Â·Â·
&lt;resources&gt;
    &lt;resource&gt;
        &lt;directory&gt;src/main/resources&lt;/directory&gt;
        &lt;filtering&gt;true&lt;/filtering&gt;
        &lt;!--æŒ‡å®šé…ç½®æ–‡ä»¶ç¼–è¯‘çš„ç›®æ ‡åœ°å€ï¼Œå½“å‰é¡¹ç›®é…ç½®ç¼–è¯‘åœ°å€ä¸º:target/classes/conf--&gt;
        &lt;targetPath&gt;ä½ çš„ç¼–è¯‘æ–‡ä»¶å¤¹åç§°&lt;/targetPath&gt;
    &lt;/resource&gt;
&lt;/resources&gt;
Â·Â·Â·Â·Â·Â·
&lt;configuration&gt;
    Â·Â·Â·Â·Â·Â·
    &lt;!-- ä»å“ªé‡Œæ‹·è´é…ç½®æ–‡ä»¶ (é»˜è®¤src/main/config) --&gt;
    &lt;!--è¿™é‡Œç”±äºé…ç½®æ–‡ä»¶*.ymlä¸­å­˜åœ¨å˜é‡å¼•ç”¨ï¼Œcopyæ—¶ä½¿ç”¨ç¼–è¯‘åçš„é…ç½®æ–‡ä»¶--&gt;
    &lt;configurationSourceDirectory&gt;target\classes\ä½ çš„ç¼–è¯‘æ–‡ä»¶å¤¹åç§°&lt;/configurationSourceDirectory&gt;
    Â·Â·Â·Â·Â·Â·
&lt;/configuration&gt;
Â·Â·Â·Â·Â·Â·
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://yunmo.org.cn/post-images/1599882413926.png" alt="" loading="lazy"></figure>
<!-- more -->
<h4 id="2é…ç½®å¯åŠ¨å‡½æ•°ç±»">2.é…ç½®å¯åŠ¨å‡½æ•°ç±»</h4>
<p>ä¿®æ”¹mainClassæ ‡ç­¾çš„å¯åŠ¨ç±»ä¸ºä½ é¡¹ç›®çš„å¯åŠ¨ç±»è·¯å¾„<br>
å¦‚ï¼šcn.org.yunmo.bizdemo.YunmoBizDemoApplication</p>
<pre><code>Â·Â·Â·Â·Â·Â·
&lt;programs&gt;
    &lt;!-- ç¨‹åºæ‰“åŒ…ï¼šmvn package appassembler:assemble å¯ä»¥é…ç½®å¤šä¸ªprogram--&gt;
    &lt;program&gt;
        &lt;!-- ç”Ÿæˆçš„è„šæœ¬æ–‡ä»¶çš„åç§° --&gt;
        &lt;id&gt;${project.name}&lt;/id&gt;
        &lt;mainClass&gt;ä½ çš„å¯åŠ¨å‡½æ•°ç±»è·¯å¾„&lt;/mainClass&gt;
    &lt;/program&gt;
&lt;/programs&gt;
Â·Â·Â·Â·Â·Â·
</code></pre>
<p>ä½ ä½¿ç”¨æ—¶å€™åªéœ€è¦æŠŠä¸Šé¢<code>&lt;build&gt;...&lt;/build&gt;</code>æ ‡ç­¾ä¸­çš„å†…å®¹å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­çš„pomä¸­ï¼ŒæŠŠä¸»ç¨‹åºå¯åŠ¨å‡½æ•°<code>&lt;mainClass&gt;...&lt;/mainClass&gt;</code>åœ°å€ä¿®æ”¹ä¸ºä½ çš„springbootå¯åŠ¨ç±»è·¯å¾„å°±å¯ä»¥å•¦</p>
<!-- more -->
<h2 id="3mavenæ‰“åŒ…">3.mavenæ‰“åŒ…</h2>
<p>æœ‰ä¸¤ç§æ–¹å¼æ¥æ‰“åŒ…</p>
<h4 id="1-ideaé…ç½®æ‰“åŒ…å»ºè®®">1ã€ideaé…ç½®æ‰“åŒ…ï¼ˆå»ºè®®ï¼‰</h4>
<p>é¦–å…ˆæˆ‘ä»¬æ¥é…ç½®ä¸ªmavenå¯åŠ¨é¡¹ï¼Œç‚¹å‡»ç‚¹å‡»å¯åŠ¨é¡¹åé¢çš„å€’ä¸‰è§’<br>
<img src="https://yunmo.org.cn/post-images/1599889884668.png" alt="" loading="lazy"><br>
ç„¶åæˆ‘ä»¬ç‚¹å‡»Edit Configurations...<br>
<img src="https://yunmo.org.cn/post-images/1599889927847.png" alt="" loading="lazy"><br>
ç‚¹å‡»å·¦ä¸Šæ–¹ + å· æ‰¾åˆ°mavenç„¶åç‚¹å‡»<br>
<img src="https://yunmo.org.cn/post-images/1599890426927.png" alt="" loading="lazy"><br>
é€‰æ‹©ä½ çš„mavené¡¹ç›®ï¼ˆ1ã€2ï¼‰ï¼Œè¾“å…¥æ‰“åŒ…å‘½ä»¤ï¼ˆ3ï¼‰ï¼Œç¬¬4æ­¥å¯ä»¥é€‰æ‹©ä½ æ‰“åŒ…éœ€è¦ä½¿ç”¨çš„é…ç½®æ–‡ä»¶å¡«å†™å¯¹åº”çš„åç¼€åæˆ‘è¿™é‡Œå°±ç”¨-devä½¿ç”¨devé…ç½®æ–‡ä»¶ï¼Œç‚¹å‡»applyï¼ˆ5ï¼‰ï¼Œæœ€åç‚¹å‡»okï¼ˆ6ï¼‰ä¿å­˜é…ç½®<br>
<img src="https://yunmo.org.cn/post-images/1599890463336.png" alt="" loading="lazy"><br>
éšåä½ å°±ä¼šçœ‹åˆ°ä¸Šé¢å¯åŠ¨é¡¹ä¸­å¤šäº†åˆšæ‰æ·»åŠ çš„mavenæ‰“åŒ…é…ç½®ï¼Œé€‰æ‹©åˆšæ‰é…ç½®çš„mavenå¯åŠ¨é¡¹ï¼Œç‚¹å‡»runæ‰§è¡Œï¼ˆå»ºè®®æ‰“åŒ…å‰å…ˆæ‰§è¡Œä¸€æ¬¡maven cleanï¼Œé˜²æ­¢æœ‰å…¶ä»–ç¼–è¯‘æ–‡ä»¶å½±å“æ‰“åŒ…å†…å®¹ï¼‰<br>
<img src="https://yunmo.org.cn/post-images/1599890896062.png" alt="" loading="lazy"><br>
æˆåŠŸæ‰§è¡Œåæ§åˆ¶å°ä¼šè¾“å‡º BUILD SUCCESSï¼Œç‚¹å¼€targetç›®å½•ä½ å°±ä¼šå‘ç°ç›®å½•ä¸‹å¤šäº†ä¸ªæˆ‘ä»¬å¼€å¤´ä»‹ç»çš„appæ–‡ä»¶å¤¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰“åŒ…åçš„æ–‡ä»¶å¤¹<br>
<img src="https://yunmo.org.cn/post-images/1599891064328.png" alt="" loading="lazy"><br>
<img src="https://yunmo.org.cn/post-images/1599895094099.png" alt="" loading="lazy"></p>
<!-- more -->
<p>æ³¨æ„: å¦‚æœä½ ä¿®æ”¹äº†pomä¸­æ‰“åŒ…æ ¹ç›®å½•é…ç½®<code>&lt;assembleDirectory&gt;${project.build.directory}/app&lt;/assembleDirectory&gt;</code> é‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹ä½ç½®åç§°ä¼šè·Ÿç€å‘ç”Ÿæ”¹å˜</p>
<!-- more -->
<h4 id="2-ä½¿ç”¨å‘½ä»¤è¡Œå‘½ä»¤æ‰“åŒ…-éœ€è¦é…ç½®mavenç¯å¢ƒå˜é‡">2ã€ä½¿ç”¨å‘½ä»¤è¡Œå‘½ä»¤æ‰“åŒ… ï¼ˆéœ€è¦é…ç½®mavenç¯å¢ƒå˜é‡ï¼‰</h4>
<p>é¦–å…ˆæŸ¥çœ‹æ˜¯å¦å·²ç»é…ç½®mavenç¯å¢ƒå˜é‡</p>
<pre><code>mvn -v
</code></pre>
<p>å¦‚æœå·²ç»é…ç½®ä¼šè¾“å‡ºç±»ä¼¼å¦‚ä¸‹ç»“æœï¼šè·¯å¾„ç‰ˆæœ¬å·ç­‰ï¼Œå¦‚æœæ²¡æœ‰é…ç½®åˆ™éœ€é…ç½®mavenç¯å¢ƒå˜é‡è¿™é‡Œä¸å†æ¼”ç¤º<br>
<img src="https://yunmo.org.cn/post-images/1599899116017.png" alt="" loading="lazy"></p>
<!-- more -->
<p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶è¾“å…¥æ‰“åŒ…å‘½ä»¤</p>
<pre><code>cd D:\IProject\yunmo\yunmo-server\yunmo-biz-demo

mvn package appassembler:assemble
</code></pre>
<p><img src="https://yunmo.org.cn/post-images/1599899303996.png" alt="" loading="lazy"><br>
æ‰“åŒ…æˆåŠŸä¸€æ ·ä¼šåœ¨æ§åˆ¶å°è¾“å‡º BUILD SUCCESS å’Œä¸€äº›æ‰“åŒ…ä¿¡æ¯ã€‚<br>
å¦‚copyäº†å‡ ä¸ªé…ç½®æ–‡ä»¶åˆ°å“ªé‡Œï¼Œè€—æ—¶å¤šä¹…ç­‰ä¿¡æ¯ï¼Œå¹¶ä¼šç”Ÿæˆå¯¹åº”æ‰“åŒ…ç›®å½•app</p>
<!-- more -->
<h2 id="4å¯åŠ¨é¡¹ç›®">4.å¯åŠ¨é¡¹ç›®</h2>
<p>æ‰¾åˆ°æ‰“åŒ…åçš„æ–‡ä»¶å¤¹targer/appï¼Œæˆ‘ä»¬ç‚¹å¼€binç›®å½•ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶.batç»“å°¾çš„æ˜¯windowså¯åŠ¨è„šæœ¬ï¼Œå¦ä¸€ä¸ªæ˜¯linuxå¯åŠ¨è„šæœ¬<br>
<img src="https://yunmo.org.cn/post-images/1599891905875.png" alt="" loading="lazy"></p>
<!-- more -->
<h4 id="windowså¯åŠ¨">windowså¯åŠ¨</h4>
<ol>
<li>ç›´æ¥åŒå‡»batè„šæœ¬å¯åŠ¨</li>
<li>é€šè¿‡å‘½ä»¤è¡Œæˆ–ideaç»ˆç«¯ï¼ˆTerminalï¼‰è¿›å…¥åˆ°å½“å‰binç›®å½•è·¯å¾„ï¼Œè¾“å…¥ä½ çš„è„šæœ¬åç§°.batï¼Œå›è½¦</li>
</ol>
<pre><code>cd target\app\bin

yunmo-biz-demo.bat
</code></pre>
<p>cmd<br>
<img src="https://yunmo.org.cn/post-images/1599892586945.png" alt="" loading="lazy"><br>
idea<br>
<img src="https://yunmo.org.cn/post-images/1599892593469.png" alt="" loading="lazy"></p>
<!-- more -->
<h4 id="linuxå¯åŠ¨">linuxå¯åŠ¨</h4>
<pre><code>./app/bin/yunmo-biz-demo

</code></pre>
<figure data-type="image" tabindex="2"><img src="https://yunmo.org.cn/post-images/1599898585408.png" alt="" loading="lazy"></figure>
<h2 id="5æœåŠ¡éªŒè¯">5.æœåŠ¡éªŒè¯</h2>
<p>ä»å¯åŠ¨çš„æ§åˆ¶å°æ‰¾åˆ°ä½ çš„ç«¯å£å’Œcontent path(springbooté¡¹ç›®é»˜è®¤ä¸º'')<br>
<img src="https://yunmo.org.cn/post-images/1599892803473.png" alt="" loading="lazy"><br>
æ‰“å¼€æµè§ˆå™¨è¾“å…¥ä½ çš„é¡¹ç›®åœ°å€ï¼Œ ip:ç«¯å£/content pathï¼Œæˆ‘è¿™é‡Œcontent pathä¸ºç©ºå¯ä»¥ä¸å¡«ï¼Œå‡ºç°ä¸‹é¢è¿™ä¸ªç•Œé¢å°±è¡¨ç¤ºæˆåŠŸäº†</p>
<blockquote>
<p>localhost:9101</p>
</blockquote>
<figure data-type="image" tabindex="3"><img src="https://yunmo.org.cn/post-images/1599893080040.png" alt="" loading="lazy"></figure>
<blockquote>
<p>localhost:9101/customerMessage/aboutMe</p>
</blockquote>
<figure data-type="image" tabindex="4"><img src="https://yunmo.org.cn/post-images/1599895758564.png" alt="" loading="lazy"></figure>
<!-- more -->
<p>ğŸŒˆ ä»¥ä¸Šå°±æ˜¯å…¨éƒ¨æ­¥éª¤å•¦ï¼Œæœ‰é—®é¢˜æ¬¢è¿åœ¨ä¸‹æ–¹ç»™æˆ‘ç•™è¨€~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Jenkinså®šæ—¶æ„å»ºMavené¡¹ç›®]]></title>
        <id>https://yunmo.org.cn/post/jenkins-schedule-build/</id>
        <link href="https://yunmo.org.cn/post/jenkins-schedule-build/">
        </link>
        <updated>2020-09-09T09:46:43.000Z</updated>
        <summary type="html"><![CDATA[<p>å®šæ—¶æ„å»ºè¯­æ³•å¦‚ä¸‹:</p>
<pre><code>* * * * *
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<p>å®šæ—¶æ„å»ºè¯­æ³•å¦‚ä¸‹:</p>
<pre><code>* * * * *
</code></pre>
<!-- more -->
<p>ç¬¬ä¸€ä¸ª<em>è¡¨ç¤ºåˆ†é’Ÿï¼Œå–å€¼0~59<br>
ç¬¬äºŒä¸ª</em>è¡¨ç¤ºå°æ—¶ï¼Œå–å€¼0~23<br>
ç¬¬ä¸‰ä¸ª<em>è¡¨ç¤ºä¸€ä¸ªæœˆçš„ç¬¬å‡ å¤©ï¼Œå–å€¼1~31<br>
ç¬¬å››ä¸ª</em>è¡¨ç¤ºç¬¬å‡ æœˆï¼Œå–å€¼1~12<br>
ç¬¬äº”ä¸ª*è¡¨ç¤ºä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©ï¼Œå–å€¼0~7ï¼Œå…¶ä¸­0å’Œ7ä»£è¡¨çš„éƒ½æ˜¯å‘¨æ—¥</p>
<!-- more -->
<p>è¿™é‡Œçš„æ—¶é—´è¡¨è¾¾å¼çš„é…ç½®å’ŒLinuxç³»ç»Ÿçš„crontabå‘½ä»¤çš„æ—¶é—´è¡¨è¾¾å¼ä¸€æ ·çš„ ï¼Œè¿™é‡Œä¸å¤šè¯´äº†ã€‚<a href="https://www.lenar.io/jenkins-schedule-build-periodically/">è¯¦ç»†ä»‹ç»</a></p>
<!-- more -->
<p>å¦‚:</p>
<pre><code>0-59/10 * * * *     #ååˆ†é’Ÿæ„å»ºä¸€æ¬¡
H H/3 * * *      #ä¸‰ä¸ªå°æ—¶æ„å»ºä¸€æ¬¡
H 0 * * *     #æ¯å¤©æ™šä¸Š0ç‚¹æ„å»ºä¸€æ¬¡
</code></pre>
<p>æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<!-- more -->
<p><img src="https://yunmo.org.cn/post-images/1599646310973.jpg" alt="" loading="lazy"><br>
<img src="https://yunmo.org.cn/post-images/1599646316508.jpg" alt="" loading="lazy"></p>
<!-- more -->
<p>ç»“æœï¼š<br>
<img src="https://yunmo.org.cn/post-images/1599698361147.png" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MySQL å¦‚ä½•æˆæƒç»™ç”¨æˆ·DBæƒé™ç»™è¿œç¨‹ç”¨æˆ·å¼€å¯æŸä¸ªæ•°æ®åº“çš„æƒé™ï¼Ÿ]]></title>
        <id>https://yunmo.org.cn/post/mysql-ru-he-shou-quan-gei-yong-hu-db-quan-xian-gei-yong-hu-kai-qi-mou-ge-shu-ju-ku-de-quan-xian/</id>
        <link href="https://yunmo.org.cn/post/mysql-ru-he-shou-quan-gei-yong-hu-db-quan-xian-gei-yong-hu-kai-qi-mou-ge-shu-ju-ku-de-quan-xian/">
        </link>
        <updated>2020-08-31T05:55:53.000Z</updated>
        <summary type="html"><![CDATA[<p>MySQL å¦‚ä½•æˆæƒç»™ç”¨æˆ·DBæƒé™ç»™è¿œç¨‹ç”¨æˆ·å¼€å¯æŸä¸ªæ•°æ®åº“çš„æƒé™?</p>
]]></summary>
        <content type="html"><![CDATA[<p>MySQL å¦‚ä½•æˆæƒç»™ç”¨æˆ·DBæƒé™ç»™è¿œç¨‹ç”¨æˆ·å¼€å¯æŸä¸ªæ•°æ®åº“çš„æƒé™?</p>
<!-- more -->
<blockquote>
<p>ä¸ºäº†å®‰å…¨èµ·è§æˆ‘ä»¬æœ€å¥½æ–°å»ºä¸€ä¸ªç”¨æˆ·ä½œä¸ºè¿œç¨‹é“¾æ¥çš„è´¦å·ï¼ˆå¸å·åä¸èƒ½ä¸ºrootï¼‰ã€‚</p>
</blockquote>
<!-- more -->
<p>å…ˆè¿æ¥ç™»å½•mysql</p>
<pre><code>mysql -uroot -p

Enter password: #è¾“å…¥æ•°æ®åº“çš„rootå¯†ç ï¼Œé»˜è®¤ä¸æ˜¾ç¤ºå¯†ç 
</code></pre>
<!-- more -->
<p>åˆ›å»ºç”¨æˆ·å¹¶æˆæƒå…è®¸æ‰€æœ‰è®¿é—®åœ°å€ã€‚</p>
<pre><code># db_userï¼šåˆ›å»ºçš„ç”¨æˆ·åï¼›%ï¼šè¡¨ç¤ºæˆæƒå…è®¸æ‰€æœ‰åœ°å€è¿æ¥ï¼›db_passwordï¼šç”¨æˆ·å¯†ç 
create user db_user@'%' identified by 'db_password'; 
</code></pre>
<!-- more -->
<blockquote>
<p>âš ï¸æ³¨æ„ï¼šè¿œç¨‹è¿æ¥è®°å¾—å¼€æ”¾æœåŠ¡å™¨mysqlè¿œç¨‹ç«¯å£ï¼Œå¦‚æœæ˜¯äº‘æœåŠ¡å™¨äº‘ç«¯å£ä¹Ÿè¦å¼€æ”¾ã€‚</p>
</blockquote>
<p>å¦‚æœæ‚¨çš„æ“ä½œç³»ç»Ÿä¸ºCentOSç³»åˆ—ï¼š</p>
<pre><code>iptables -I INPUT 4 -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT
service iptables save #ä¿å­˜iptablesè§„åˆ™
</code></pre>
<p>å¦‚æœæ‚¨çš„æ“ä½œç³»ç»Ÿä¸ºUbuntu/Debianç³»åˆ—ï¼š</p>
<pre><code>iptables -I INPUT 4 -p tcp -m state --state NEW -m tcp --dport 3306 -j ACCEPT
iptables-save &gt; /etc/iptables.up.rules  #ä¿å­˜iptablesè§„åˆ™
</code></pre>
<blockquote>
<p>å¦‚ï¼šæ·»åŠ ä¸€ä¸ªç”¨æˆ·åä¸ºdb_userï¼Œå¯†ç ä¸ºdb_passï¼Œæˆæƒä¸º% ï¼ˆ%è¡¨ç¤ºæ‰€æœ‰å¤–å›´IPèƒ½è¿æ¥ï¼‰å¯¹db_nameæ•°æ®åº“æ‰€æœ‰æƒé™</p>
</blockquote>
<!-- more -->
<p>å®Œæ•´å‘½ä»¤å¦‚ä¸‹:</p>
<pre><code>mysql -uroot -p

Enter password: #è¾“å…¥æ•°æ®åº“çš„rootå¯†ç ï¼Œé»˜è®¤ä¸æ˜¾ç¤ºå¯†ç 

MySQL [(none)]&gt; create user db_user@'%' identified by 'db_password'; #åˆ›å»ºç”¨æˆ·å¹¶æˆæƒå…è®¸æ‰€æœ‰è®¿é—®åœ°å€ã€‚%è¡¨ç¤ºæˆæƒæ‰€æœ‰åœ°å€

MySQL [(none)]&gt; grant all privileges on db_name.* to db_user@'%' identified 
by 'db_pass'; #æˆæƒè¯­å¥ï¼Œç‰¹åˆ«æ³¨æ„æœ‰åˆ†å·

MySQL [(none)]&gt; flush privileges; #æƒé™ç«‹å³ç”Ÿæ•ˆ

MySQL [(none)]&gt; exit; #é€€å‡ºæ•°æ®åº“æ§åˆ¶å°ï¼Œç‰¹åˆ«æ³¨æ„æœ‰åˆ†å·

</code></pre>
<p>ä¾‹ï¼š</p>
<!-- more --> 
<pre><code>create user yunmo_test@'%' identified by 'yunmo'; 

grant all privileges on yunmo_test.* to yunmo@'%' identified by 'yunmo';

flush privileges;

exit;

</code></pre>
<!-- more -->
<p>ğŸ˜˜ ç°åœ¨å°±å¯ä»¥ç”¨åˆšæ‰åˆ›å»ºçš„ç”¨æˆ·å»è¿æ¥å•¦~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŸºäºæµè§ˆå™¨çš„è§†é¢‘é€šè¯å¦‚ä½•å®ç°ç½‘ç»œç©¿é€æ‰¾åˆ°å†…ç½‘ç›®æ ‡åœ°å€ï¼Ÿ]]></title>
        <id>https://yunmo.org.cn/post/csk1jrrgK/</id>
        <link href="https://yunmo.org.cn/post/csk1jrrgK/">
        </link>
        <updated>2020-08-30T06:45:06.000Z</updated>
        <summary type="html"><![CDATA[<p>WebRTCï¼Œåç§°æºè‡ªç½‘é¡µå³æ—¶é€šä¿¡ï¼ˆè‹±è¯­ï¼šWeb Real-Time Communicationï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯æˆ–è§†é¢‘å¯¹è¯çš„APIã€‚å®ƒäº2011å¹´6æœˆ1æ—¥å¼€æºå¹¶åœ¨Googleã€Mozillaã€Operaæ”¯æŒä¸‹è¢«çº³å…¥ä¸‡ç»´ç½‘è”ç›Ÿçš„W3Cæ¨èæ ‡å‡†[2][3][4]ã€‚<a href="https://zh.wikipedia.org/wiki/WebRTC">ç»´åŸºç™¾ç§‘ä»‹ç»</a></p>
]]></summary>
        <content type="html"><![CDATA[<p>WebRTCï¼Œåç§°æºè‡ªç½‘é¡µå³æ—¶é€šä¿¡ï¼ˆè‹±è¯­ï¼šWeb Real-Time Communicationï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯æˆ–è§†é¢‘å¯¹è¯çš„APIã€‚å®ƒäº2011å¹´6æœˆ1æ—¥å¼€æºå¹¶åœ¨Googleã€Mozillaã€Operaæ”¯æŒä¸‹è¢«çº³å…¥ä¸‡ç»´ç½‘è”ç›Ÿçš„W3Cæ¨èæ ‡å‡†[2][3][4]ã€‚<a href="https://zh.wikipedia.org/wiki/WebRTC">ç»´åŸºç™¾ç§‘ä»‹ç»</a></p>
<!-- more -->
<h2 id="é¦–å…ˆä½ éœ€è¦ä¸€å°å…¬ç½‘ipçš„æœåŠ¡å™¨">é¦–å…ˆä½ éœ€è¦ä¸€å°å…¬ç½‘ipçš„æœåŠ¡å™¨</h2>
<h3 id="åŸºäºcoturné¡¹ç›®çš„stunturnæœåŠ¡å™¨æ­å»º">åŸºäºcoturné¡¹ç›®çš„stun/turnæœåŠ¡å™¨æ­å»º</h3>
<!-- more -->
<p>é€šè¿‡stun/turnä¸­ç»§æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å…¬ç½‘IPåœ°å€æ¥è§£ææ‰¾åˆ°å‘èµ·è¯·æ±‚çš„å†…ç½‘IPåœ°å€ï¼ˆå³ï¼šèº²åœ¨è·¯ç”±å™¨æˆ–äº¤æ¢æœºåçš„ç”µè„‘ï¼‰</p>
<p>æˆ‘è¿™è¾¹é‡‡ç”¨<a href="https://peerjs.com/">PeerJs</a>åº“æ¥å»ºç«‹P2Pæ•°æ®æˆ–åª’ä½“æµè¿æ¥ã€‚</p>
<p>å®é™…æµ‹è¯•ï¼Œä¸­ç»§æœåŠ¡å™¨è¿˜æ˜¯ä¼šå­˜åœ¨æ‰¾ä¸åˆ°å†…ç½‘åœ°å€çš„æƒ…å†µã€‚</p>
<h3 id="ç»è¿‡è°ƒè¯•webrtcå·²æˆåŠŸå»ºç«‹è¿æ¥çš„æµè§ˆå™¨æœ‰">ç»è¿‡è°ƒè¯•WebRTCå·²æˆåŠŸå»ºç«‹è¿æ¥çš„æµè§ˆå™¨æœ‰ï¼š</h3>
<!-- more -->
<blockquote>
<p>PC to PC:<br>
Chrome to Chrome</p>
</blockquote>
<blockquote>
<p>PC to Mobileï¼ˆIOSï¼‰:<br>
Chrome to Safari</p>
</blockquote>
<blockquote>
<p>PC to  Mobileï¼ˆAndroidï¼‰:<br>
Chrome to Chrome</p>
</blockquote>
<!-- more -->
<h3 id="coturnå®‰è£…">coturnå®‰è£…</h3>
<blockquote>
<p>é¦–å…ˆä»gitä»“åº“cloneä¸‹æ¥</p>
</blockquote>
<pre><code>git clone https://github.com/coturn/coturn.git

cd ~/path #è¿›å»cloneé¡¹ç›®åœ°å€æ ¹ç›®å½•
</code></pre>
<blockquote>
<p>ç¼–è¯‘å®‰è£…</p>
</blockquote>
<pre><code>./configure --prefix=/usr/local/coturn make &amp; sudo make install
</code></pre>
<blockquote>
<p>å‘½ä»¤æ¨¡å¼å¯åŠ¨æœåŠ¡</p>
</blockquote>
<pre><code>turnserver -o -v -f -a -m 2 --max-bps=100000 --min-port=32355 --max-port=65535 --user=your.name:your.passwod -r your.domain -L your.ip
</code></pre>
<p>ä¾‹ï¼š</p>
<pre><code>./turnserver -o -v -f -a -m 2 --max-bps=100000 --min-port=32355 --max-port=65535 --user=yunmo:123 -r yunmo.org.cn -L 172.19.189.21
</code></pre>
<blockquote>
<p>-oÂ ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œï¼ˆåå°è¿è¡Œï¼‰<br>
-vÂ æ—¥å¿—ä¼šä»¥â€œé€‚åº¦è¯¦ç»†â€çš„ç¨‹åº¦æ¥è®°å½•<br>
-f Â å¢åŠ æŒ‡çº¹æœºåˆ¶<br>
-aÂ é•¿æœŸéªŒè¯æœºåˆ¶<br>
-mÂ ä»¥xä¸ªè¿›ç¨‹æ¥å¤„ç†ä¸­ç»§è¯·æ±‚<br>
--max-bpsÂ å¸¦å®½<br>
--min-port Â Â èµ·å§‹ç”¨çš„æœ€å°ç«¯å£<br>
--max-port Â Â æœ€å¤§ç«¯å£å·<br>
--user=å¸å·ï¼šå¯†ç  (turnæœåŠ¡çš„ç”¨æˆ·éªŒè¯æœºåˆ¶è¦ç”¨)<br>
-r  åŸŸå<br>
-L ç›‘å¬IP(turnæœåŠ¡å™¨çš„ip)è¿™ä¸ªipæ˜¯ä½ ifconfigæŸ¥åˆ°çš„ipï¼Œä¸æ˜¯ä½ çš„å…¬ç½‘ip<br>
-X   åé¢åŠ  public ip/ private ip       å¤šIPæƒ…å†µä¸‹ä½¿ç”¨ï¼Œæœ‰å‡ ä¸ªipå°±ç”¨å‡ æ¬¡</p>
</blockquote>
]]></content>
    </entry>
</feed>